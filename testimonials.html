<script>
  const target = document.getElementById("testi-grid");

  function render(list){
    target.innerHTML = "";
    list.forEach(t => {
      const card = document.createElement("article");
      card.className = "testi-card";
      card.innerHTML = `
        <div class="testi-quote">“${t.quote}”</div>
        <div class="testi-meta">
          <div class="testi-name">${t.name}</div>
          <div class="testi-role">${t.role || ""}</div>
        </div>`;
      target.appendChild(card);
    });
  }

  fetch("./data/testimonials.json", {cache:"no-store"})
    .then(r => r.ok ? r.json() : Promise.reject("JSON not found"))
    .then(render)
    .catch(err => {
      console.error(err);
      target.innerHTML = "<p style='color: var(--muted)'>Unable to load testimonials from ./data/testimonials.json</p>";
    });
</script>
